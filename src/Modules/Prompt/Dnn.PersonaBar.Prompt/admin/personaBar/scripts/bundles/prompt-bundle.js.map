{"version":3,"sources":["webpack:///webpack/bootstrap 52bf7f5cf167707fb609","webpack:///./src/js-cookie.js","webpack:///external \"jQuery\"","webpack:///./src/app.js"],"names":["factory","registeredInModuleLoader","define","exports","module","OldCookies","window","Cookies","api","noConflict","extend","i","result","arguments","length","attributes","key","init","converter","value","document","path","defaults","expires","Date","setMilliseconds","getMilliseconds","toUTCString","JSON","stringify","test","e","write","encodeURIComponent","String","replace","decodeURIComponent","escape","stringifiedAttributes","attributeName","cookie","cookies","split","rdecode","parts","slice","join","charAt","name","read","json","parse","set","get","call","getJSON","apply","remove","withConverter","require","DnnPrompt","vsn","util","params","self","version","tabId","history","sessionStorage","getItem","cmdOffset","commands","commandNames","initCommands","createElements","wireEvents","showGreeting","busy","focus","keyDownHandler","onKeyDown","clickHandler","onClickHandler","addEventListener","ctrlEl","target","classList","contains","inputEl","dataset","cmd","ctrlStyle","style","isBusy","activeElement","keyCode","runCmd","preventDefault","txt","trim","dnn","getVar","writeLine","push","setItem","tokens","toUpperCase","closePersonaBar","outputEl","innerHTML","configConsole","removeItem","changeUserMode","location","reload","bRedirect","afVal","sf","antiForgeryToken","getSiteRoot","fetch","method","headers","Headers","credentials","body","cmdLine","currentPage","then","response","Message","output","isError","data","fieldOrder","console","log","href","html","renderData","writeHtml","isHtml","newLine","mustReload","setTimeout","catch","blur","scrollTop","scrollHeight","appendChild","createElement","scrollToBottom","cssSuffix","span","className","innerText","markup","div","renderTable","renderObject","rows","linkFields","extractLinkFields","columns","row","startsWith","out","col","fld","fldName","fldVal","indexOf","doc","getElementById","busyEl","setAttribute","display","consoleHeight","flags","b","token","flag","isFlag","height","hasFlag","getFlag","mode","service","controlBar","getService","serviceUrl","getServiceUrl","$","ajax","url","type","UserMode","beforeSend","setModuleHeaders","success","error","xhr","responseError"],"mappings":"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","file":"prompt-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/scripts/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 52bf7f5cf167707fb609","/*!\r\n * JavaScript Cookie v2.1.3\r\n * https://github.com/js-cookie/js-cookie\r\n *\r\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\r\n * Released under the MIT license\r\n */\r\n;(function (factory) {\r\n\tvar registeredInModuleLoader = false;\r\n\tif (typeof define === 'function' && define.amd) {\r\n\t\tdefine(factory);\r\n\t\tregisteredInModuleLoader = true;\r\n\t}\r\n\tif (typeof exports === 'object') {\r\n\t\tmodule.exports = factory();\r\n\t\tregisteredInModuleLoader = true;\r\n\t}\r\n\tif (!registeredInModuleLoader) {\r\n\t\tvar OldCookies = window.Cookies;\r\n\t\tvar api = window.Cookies = factory();\r\n\t\tapi.noConflict = function () {\r\n\t\t\twindow.Cookies = OldCookies;\r\n\t\t\treturn api;\r\n\t\t};\r\n\t}\r\n}(function () {\r\n\tfunction extend () {\r\n\t\tvar i = 0;\r\n\t\tvar result = {};\r\n\t\tfor (; i < arguments.length; i++) {\r\n\t\t\tvar attributes = arguments[ i ];\r\n\t\t\tfor (var key in attributes) {\r\n\t\t\t\tresult[key] = attributes[key];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tfunction init (converter) {\r\n\t\tfunction api (key, value, attributes) {\r\n\t\t\tvar result;\r\n\t\t\tif (typeof document === 'undefined') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Write\r\n\r\n\t\t\tif (arguments.length > 1) {\r\n\t\t\t\tattributes = extend({\r\n\t\t\t\t\tpath: '/'\r\n\t\t\t\t}, api.defaults, attributes);\r\n\r\n\t\t\t\tif (typeof attributes.expires === 'number') {\r\n\t\t\t\t\tvar expires = new Date();\r\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\r\n\t\t\t\t\tattributes.expires = expires;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\r\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tresult = JSON.stringify(value);\r\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\r\n\t\t\t\t\t\tvalue = result;\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {}\r\n\r\n\t\t\t\tif (!converter.write) {\r\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\r\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalue = converter.write(value, key);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tkey = encodeURIComponent(String(key));\r\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\r\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\r\n\r\n\t\t\t\tvar stringifiedAttributes = '';\r\n\r\n\t\t\t\tfor (var attributeName in attributes) {\r\n\t\t\t\t\tif (!attributes[attributeName]) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\r\n\t\t\t\t\tif (attributes[attributeName] === true) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\r\n\t\t\t\t}\r\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\r\n\t\t\t}\r\n\r\n\t\t\t// Read\r\n\r\n\t\t\tif (!key) {\r\n\t\t\t\tresult = {};\r\n\t\t\t}\r\n\r\n\t\t\t// To prevent the for loop in the first place assign an empty array\r\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\r\n\t\t\t// calling \"get()\"\r\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\r\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\r\n\t\t\tvar i = 0;\r\n\r\n\t\t\tfor (; i < cookies.length; i++) {\r\n\t\t\t\tvar parts = cookies[i].split('=');\r\n\t\t\t\tvar cookie = parts.slice(1).join('=');\r\n\r\n\t\t\t\tif (cookie.charAt(0) === '\"') {\r\n\t\t\t\t\tcookie = cookie.slice(1, -1);\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\r\n\t\t\t\t\tcookie = converter.read ?\r\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\r\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\r\n\r\n\t\t\t\t\tif (this.json) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\r\n\t\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (key === name) {\r\n\t\t\t\t\t\tresult = cookie;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!key) {\r\n\t\t\t\t\t\tresult[name] = cookie;\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tapi.set = api;\r\n\t\tapi.get = function (key) {\r\n\t\t\treturn api.call(api, key);\r\n\t\t};\r\n\t\tapi.getJSON = function () {\r\n\t\t\treturn api.apply({\r\n\t\t\t\tjson: true\r\n\t\t\t}, [].slice.call(arguments));\r\n\t\t};\r\n\t\tapi.defaults = {};\r\n\r\n\t\tapi.remove = function (key, attributes) {\r\n\t\t\tapi(key, '', extend(attributes, {\r\n\t\t\t\texpires: -1\r\n\t\t\t}));\r\n\t\t};\r\n\r\n\t\tapi.withConverter = init;\r\n\r\n\t\treturn api;\r\n\t}\r\n\r\n\treturn init(function () {});\r\n}));\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js-cookie.js","module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 1\n// module chunks = 0","var Cookies = require('./js-cookie');\r\n\r\nclass DnnPrompt {\r\n    constructor(vsn, util, params) {\r\n        var self = this;\r\n        self.version = vsn;\r\n        self.util = util;\r\n        self.params = params;\r\n        self.tabId = null;\r\n        self.history = []; // Command history\r\n        // restore history if it exists\r\n        if (sessionStorage) {\r\n            if (sessionStorage.getItem('kb-prompt-console-history')) {\r\n                self.history = JSON.parse(sessionStorage.getItem('kb-prompt-console-history'));\r\n            }\r\n        }\r\n        self.cmdOffset = 0 // reverse offset into history\r\n        self.commands = null;\r\n        self.commandNames = null;\r\n        self.initCommands();\r\n\r\n        self.createElements();\r\n        self.wireEvents();\r\n        self.showGreeting();\r\n        self.busy(false);\r\n        self.focus();\r\n    }\r\n\r\n    wireEvents() {\r\n        var self = this;\r\n\r\n        // intermediary functions so that 'this' points to class and not event source\r\n        self.keyDownHandler = function (e) { self.onKeyDown(e); };\r\n        self.clickHandler = function (e) { self.onClickHandler(e); };\r\n\r\n        document.addEventListener('keydown', self.keyDownHandler);\r\n        self.ctrlEl.addEventListener('click', self.clickHandler);\r\n    }\r\n\r\n    onClickHandler(e) {\r\n        if (e.target.classList.contains(\"kb-prompt-cmd-insert\")) {\r\n            // insert command and set focus\r\n            this.inputEl.value = e.target.dataset.cmd.replace(/'/g, '\"');\r\n            this.inputEl.focus();\r\n        } else {\r\n            this.focus();\r\n        }\r\n    }\r\n\r\n    onKeyDown(e) {\r\n        var self = this, ctrlStyle = self.ctrlEl.style;\r\n        if (self.isBusy) return;\r\n\r\n        // Keys, only trap if focus is in console.\r\n        if (self.inputEl === document.activeElement) {\r\n            switch (e.keyCode) {\r\n                case 13: // enter key\r\n                    return self.runCmd();\r\n                case 38: // Up arrow\r\n                    if ((self.history.length + self.cmdOffset > 0)) {\r\n                        self.cmdOffset--;\r\n                        self.inputEl.value = self.history[self.history.length + self.cmdOffset];\r\n                        e.preventDefault();\r\n                    }\r\n                    break;\r\n                case 40: // Down arrow\r\n                    if ((self.cmdOffset < -1)) {\r\n                        self.cmdOffset++;\r\n                        self.inputEl.value = self.history[self.history.length + self.cmdOffset];\r\n                        e.preventDefault();\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    runCmd() {\r\n        var self = this;\r\n        var txt = self.inputEl.value.trim();\r\n\r\n        if (!self.tabId) { self.tabId = dnn.getVar(\"sf_tabId\"); }\r\n\r\n        self.cmdOffset = 0; // reset history index\r\n        self.inputEl.value = \"\"; // clearn input for future commands.\r\n        self.writeLine(txt, \"cmd\"); // Write cmd to output\r\n        if (txt === \"\") { return; } // don't process if cmd is emtpy\r\n        self.history.push(txt); // Add cmd to history\r\n        if (sessionStorage) {\r\n            sessionStorage.setItem('kb-prompt-console-history', JSON.stringify(self.history));\r\n        }\r\n\r\n        // Client Command\r\n        var tokens = txt.split(\" \"),\r\n            cmd = tokens[0].toUpperCase();\r\n\r\n        if (cmd === \"EXIT\") { this.util.closePersonaBar() }\r\n        if (cmd === \"CLS\" || cmd === \"CLEAR-SCREEN\") { self.outputEl.innerHTML = \"\"; return; }\r\n        if (cmd === \"CONFIG\") { self.configConsole(tokens); return; }\r\n        if (cmd === \"CLH\" || cmd === \"CLEAR-HISTORY\") {\r\n            self.history = [];\r\n            sessionStorage.removeItem('kb-prompt-console-history'); self.writeLine(\"Session command history cleared\"); return;\r\n        }\r\n        if (cmd === \"SET-MODE\") { self.changeUserMode(tokens); return; }\r\n        // using if/else to allow reload if hash in URL and also prevent 'syntax invalid' message;\r\n        if (cmd === \"RELOAD\") {\r\n            location.reload(true);\r\n        } else {\r\n            // Server Command \r\n            self.busy(true);\r\n            // special handling for 'goto' command\r\n            var bRedirect = false;\r\n            if (cmd === \"GOTO\") { bRedirect = true; }\r\n\r\n            var afVal = this.util.sf.antiForgeryToken;\r\n\r\n            var path = 'API/PersonaBar/Command/Cmd';\r\n            if (this.util.sf) { path = this.util.sf.getSiteRoot() + path } else { path = '/' + path };\r\n\r\n            fetch(path, {\r\n                method: 'post',\r\n                headers: new Headers({\r\n                    'Content-Type': 'application/json',\r\n                    'RequestVerificationToken': afVal\r\n                }),\r\n                credentials: 'include',\r\n                body: JSON.stringify({ cmdLine: txt, currentPage: self.tabId })\r\n            })\r\n                .then(function (response) { return response.json(); })\r\n                .then(function (result) {\r\n                    if (result.Message) {\r\n                        // dnn web api error\r\n                        result.output = result.Message;\r\n                        result.isError = true;\r\n                    }\r\n                    var output = result.output;\r\n                    var style = result.isError ? \"error\" : \"ok\";\r\n                    var data = result.data;\r\n                    var fieldOrder = (result.fieldOrder) ? result.fieldOrder : null;\r\n\r\n                    console.log('fieldOrder', fieldOrder);\r\n\r\n                    if (bRedirect) {\r\n                        window.location.href = output;\r\n                    } else {\r\n                        if (data) {\r\n                            var html = self.renderData(data, fieldOrder);\r\n                            self.writeHtml(html);\r\n                            if (output) { self.writeLine(output); }\r\n                        } else if (result.isHtml) {\r\n                            self.writeHtml(output);\r\n                        } else {\r\n                            self.writeLine(output, style);\r\n                            self.newLine(); // a little extra white space\r\n                        }\r\n                    }\r\n\r\n                    if (result.mustReload) {\r\n                        self.writeHtml('<div><strong>Relaoding in 3 seconds</strong></div>');\r\n                        setTimeout(() => location.reload(true), 3000);\r\n                    }\r\n                })\r\n                .catch(function () { self.writeLine(\"Error sending request to server\", \"error\") })\r\n                .then(function () {\r\n                    // finally\r\n                    self.busy(false);\r\n                    self.focus();\r\n                });\r\n\r\n            self.inputEl.blur(); // remove focus from input elment\r\n        }\r\n\r\n    }\r\n\r\n    focus() {\r\n        this.inputEl.focus();\r\n    }\r\n\r\n    scrollToBottom() {\r\n        this.ctrlEl.scrollTop = this.ctrlEl.scrollHeight;\r\n    }\r\n\r\n    newLine() {\r\n        this.outputEl.appendChild(document.createElement('br'));\r\n        this.scrollToBottom();\r\n    }\r\n\r\n    writeLine(txt, cssSuffix) {\r\n        var span = document.createElement('span');\r\n        cssSuffix = cssSuffix || 'ok';\r\n        span.className = 'kb-prompt-' + cssSuffix;\r\n        span.innerText = txt;\r\n        this.outputEl.appendChild(span);\r\n        this.newLine();\r\n    }\r\n\r\n    writeHtml(markup) {\r\n        var div = document.createElement('div');\r\n        div.innerHTML = markup;\r\n        this.outputEl.appendChild(div);\r\n        this.newLine();\r\n    }\r\n\r\n    renderData(data, fieldOrder) {\r\n        if (data.length > 1) {\r\n            return this.renderTable(data, fieldOrder);\r\n        } else if (data.length == 1) {\r\n            return this.renderObject(data[0], fieldOrder);\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    renderTable(rows, fieldOrder) {\r\n        if (!rows || !rows.length) { return; }\r\n        var linkFields = this.extractLinkFields(rows[0]);\r\n        \r\n        var columns = fieldOrder;\r\n        if (!columns || !columns.length) {\r\n            // get columns from first row\r\n            columns = [];\r\n            var row = rows[0];\r\n            for (var key in row) {\r\n                if (!key.startsWith(\"__\")) {\r\n                    columns.push(key);\r\n                }\r\n            }\r\n        }\r\n\r\n        // build header\r\n        var out = '<table class=\"kb-prompt-tbl\"><thead><tr>';\r\n        for (var col in columns) {\r\n            out += `<th>${columns[col]}</th>`;\r\n        }\r\n        out += '</tr></thead><tbody>';\r\n\r\n        // build rows\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var row = rows[i];\r\n            out += '<tr>';\r\n            // only use specified columns\r\n            for (var fld in columns) {\r\n                var fldName = columns[fld];\r\n                var fldVal = row[fldName] ? row[fldName] : '';\r\n                var cmd = row[\"__\" + fldName] ? row[\"__\" + fldName] : null;\r\n                if (cmd) {\r\n                    out += `<td><a href=\"#\" class=\"kb-prompt-cmd-insert\" data-cmd=\"${cmd}\" title=\"${cmd.replace(/'/g, '&quot;')}\">${fldVal}</a></td>`;\r\n                } else {\r\n                    out += `<td> ${fldVal}</td>`;\r\n                }\r\n            }\r\n            out += '</tr>'\r\n        }\r\n        out += '</tbody></table>'\r\n        return out;\r\n    }\r\n\r\n    renderObject(data, fieldOrder) {\r\n        var linkFields = this.extractLinkFields(data);\r\n\r\n        var out = '<table class=\"kb-prompt-tbl\">'\r\n        for (var key in data) {\r\n            if (key.startsWith(\"__\")) {\r\n                out += `<tr><td class=\"kb-prompt-lbl\">${key.slice(2)}</td><td>:</td><td><a href=\"#\" class=\"kb-prompt-cmd-insert\" data-cmd=\"${data[key]}\" title=\"${data[key].replace(/'/g, '&quot;')}\">${data[key.slice(2)]}</a></td></tr>`;\r\n            } else {\r\n                if (linkFields.indexOf(key) === -1) {\r\n                    out += `<tr><td class=\"kb-prompt-lbl\">${key}</td><td>:</td><td>${data[key]}</td></tr>`;\r\n                }\r\n            }\r\n\r\n        }\r\n        out += '</table>';\r\n        return out;\r\n    }\r\n\r\n    extractLinkFields(row) {\r\n        var linkFields = [];\r\n        if (!row || !row.length) { return linkFields; }\r\n\r\n        // find any command link fields\r\n        for (var fld in row) {\r\n            if (fld.startsWith(\"__\")) {\r\n                linkFields.push(fld.slice(2));\r\n            }\r\n        }\r\n        return linkFields;\r\n    }\r\n\r\n    showGreeting() {\r\n        this.writeLine('Prompt [' + this.version + '] Type \\'help\\' to get a list of commands', 'cmd');\r\n        this.newLine();\r\n    }\r\n\r\n    createElements() {\r\n        var self = this;\r\n        var doc = document;\r\n\r\n        // Create and store CLI elements\r\n        //self.ctrlEl = doc.createElement(\"div\"); //CLI control outer frame\r\n        self.ctrlEl = doc.getElementById(\"prompt\"); //CLI control outer frame\r\n        self.outputEl = doc.createElement(\"div\"); //div holding cosole output\r\n        self.inputEl = doc.createElement(\"input\"); //Input control\r\n        self.busyEl = doc.createElement(\"div\"); // Indicate busy/loading\r\n\r\n\r\n        // Add CSS\r\n        self.ctrlEl.className = \"kb-prompt\";\r\n        self.outputEl.className = \"kb-prompt-output\";\r\n        self.inputEl.className = \"kb-prompt-input\";\r\n        self.busyEl.className = \"kb-prompt-busy\"\r\n\r\n        self.inputEl.setAttribute(\"spellcheck\", \"false\");\r\n\r\n        // Assemble HTML\r\n        self.ctrlEl.appendChild(self.outputEl);\r\n        self.ctrlEl.appendChild(self.inputEl);\r\n        self.ctrlEl.appendChild(self.busyEl);\r\n\r\n        // Hide control and add to DOM\r\n        // var isVisible = Cookies.get(\"kb-prompt-console-visible\") === \"true\";\r\n        // if (isVisible) {\r\n        self.ctrlEl.style.display = \"block\";\r\n        // } else {\r\n        //     self.ctrlEl.style.display = \"none\";\r\n        // }\r\n        //doc.body.appendChild(self.ctrlEl);\r\n        var consoleHeight = Cookies.get(\"kb-prompt-console-height\");\r\n        if (consoleHeight) {\r\n            self.configConsole(['config', consoleHeight]);\r\n        }\r\n        // if (isVisible) { self.inputEl.focus(); }\r\n    }\r\n\r\n    initCommands() {\r\n        // eventually get this from the server\r\n        this.commands = [\r\n            { name: 'cls', flags: [] },\r\n            { name: 'console', flags: [] },\r\n            { name: 'reload', flags: [] },\r\n            { name: 'get-module', flags: ['id'] },\r\n            { name: 'list-modules', flags: ['name', 'title', 'all'] },\r\n            { name: 'get-page', flags: ['id', 'name', 'parentid'] },\r\n            { name: 'list-pages', flags: ['parentid'] },\r\n            { name: 'set-page', flags: ['description', 'id', 'keywords', 'name', 'title', 'visible'] },\r\n            { name: 'get-portal', flags: ['id'] },\r\n            { name: 'list-roles', flags: [] },\r\n            { name: 'new-role', flags: ['autoassign', 'description', 'name', 'public'] },\r\n            { name: 'set-role', flags: ['description', 'id', 'name', 'public'] },\r\n            { name: 'get-task', flags: ['id'] },\r\n            { name: 'list-tasks', flags: ['enabled', 'name'] },\r\n            { name: 'set-task', flags: ['enabled', 'id'] },\r\n            { name: 'add-roles', flags: ['end', 'id', 'roles', 'start'] },\r\n            { name: 'delete-user', flags: ['id', 'notify'] },\r\n            { name: 'get-user', flags: ['email', 'id', 'username'] },\r\n            { name: 'list-users', flags: ['email', 'role', 'email'] },\r\n            { name: 'new-user', flags: ['approved', 'displayname', 'email', 'firstname', 'lastname', 'notify', 'password', 'username'] },\r\n            { name: 'purge-user', flags: ['id'] },\r\n            { name: 'reset-password', flags: ['id', 'notify'] },\r\n            { name: 'restore-user', flags: ['id'] }\r\n        ];\r\n        var out = [];\r\n        for (var i = 0; i < this.commands.length; i++) {\r\n            out.push(this.commands[i].name);\r\n        }\r\n        this.commandNames = out;\r\n\r\n    }\r\n\r\n    busy(b) {\r\n        this.isBusy = b;\r\n        this.busyEl.style.display = b ? \"block\" : \"none\";\r\n        this.inputEl.style.display = b ? \"none\" : \"block\";\r\n    }\r\n\r\n    isFlag(token) {\r\n        return (token && token.startsWith('--'));\r\n    }\r\n\r\n    getFlag(flag, tokens) {\r\n        var token = null;\r\n        if (!tokens || tokens.length) { return null; }\r\n        for (var i = 1; i < tokens.length; i++) {\r\n            token = tokens[i];\r\n            // did we find the flag name?\r\n            if (this.isFlag(token) && (token.toUpperCase() === flag.toUpperCase())) {\r\n                // is there a value to be had?\r\n                if ((i + 1) < tokens.length) {\r\n                    if (!this.isFlag(tokens[i + 1])) {\r\n                        return tokens[i + 1];\r\n                    } else {\r\n                        // next token is a flag and not a value. return nothing.\r\n                        return null;\r\n                    }\r\n                } else {\r\n                    // found but no value\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n        // not found\r\n        return null;\r\n    }\r\n\r\n    hasFlag(flag, tokens) {\r\n        if (!tokens || tokens.length) return false;\r\n        for (var i = 0; i < tokens.length; i++) {\r\n            if (tokens[i].toUpperCase === flag.toUpperCase()) { return true; }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    // client commands\r\n    configConsole(tokens) {\r\n        var height = null;\r\n        if (this.hasFlag(\"--height\")) {\r\n            height = this.getFlag(\"--height\", tokens);\r\n        } else if (!this.isFlag(tokens[1])) {\r\n            height = tokens[1];\r\n        }\r\n\r\n        if (height) {\r\n            this.ctrlEl.style.height = height;\r\n            Cookies.set(\"kb-prompt-console-height\", height)\r\n        }\r\n    }\r\n\r\n    changeUserMode(tokens) {\r\n        if (!tokens && tokens.length >= 2) { return; }\r\n        var mode = null;\r\n        if (this.hasFlag(\"--mode\")) {\r\n            mode = this.getFlag(\"--mode\", tokens);\r\n        } else if (!this.isFlag(tokens[1])) {\r\n            mode = tokens[1];\r\n        }\r\n        if (mode) {\r\n            var service = dnn.controlBar.getService();\r\n            var serviceUrl = dnn.controlBar.getServiceUrl(service);\r\n            $.ajax({\r\n                url: serviceUrl + 'ToggleUserMode',\r\n                type: 'POST',\r\n                data: { UserMode: mode },\r\n                beforeSend: service.setModuleHeaders,\r\n                success: function () {\r\n                    window.location.href = window.location.href;\r\n                },\r\n                error: function (xhr) {\r\n                    dnn.controlBar.responseError(xhr);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nwindow.DnnPrompt = DnnPrompt;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js"],"sourceRoot":""}