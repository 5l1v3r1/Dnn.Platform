{"version":3,"sources":["webpack:///webpack/bootstrap 52c21e4644d80d2e8c60","webpack:///./src/commands.js","webpack:///./src/js-cookie.js","webpack:///external \"jQuery\"","webpack:///./src/app.js"],"names":["exports","commands","name","flags","factory","registeredInModuleLoader","define","module","OldCookies","window","Cookies","api","noConflict","extend","i","result","arguments","length","attributes","key","init","converter","value","document","path","defaults","expires","Date","setMilliseconds","getMilliseconds","toUTCString","JSON","stringify","test","e","write","encodeURIComponent","String","replace","decodeURIComponent","escape","stringifiedAttributes","attributeName","cookie","cookies","split","rdecode","parts","slice","join","charAt","read","json","parse","set","get","call","getJSON","apply","remove","withConverter","require","Commands","DnnPrompt","vsn","wrapper","util","params","self","version","console","log","tabId","history","sessionStorage","getItem","cmdOffset","commandNames","initCommands","createElements","wireEvents","showGreeting","busy","focus","keyDownHandler","onKeyDown","clickHandler","onClickHandler","parent","addEventListener","ctrlEl","target","classList","contains","inputEl","dataset","cmd","ctrlKey","keyCode","offsetLeft","loadPanel","moduleName","folderName","identifier","closePersonaBar","isBusy","activeElement","runCmd","preventDefault","txt","trim","dnn","getVar","writeLine","push","setItem","tokens","toUpperCase","outputEl","innerHTML","renderHelp","configConsole","removeItem","changeUserMode","location","reload","bRedirect","afVal","sf","antiForgeryToken","getSiteRoot","fetch","method","headers","Headers","credentials","body","cmdLine","currentPage","then","response","Message","output","isError","style","data","href","html","renderData","writeHtml","isHtml","mustReload","setTimeout","catch","blur","scrollTop","scrollHeight","appendChild","createElement","scrollToBottom","cssSuffix","span","className","innerText","newLine","markup","div","renderTable","renderObject","rows","out","linkFields","fld","startsWith","row","indexOf","status","text","doc","getElementById","busyEl","setAttribute","display","consoleHeight","b","token","flag","isFlag","height","hasFlag","getFlag","mode","service","controlBar","getService","serviceUrl","getServiceUrl","$","ajax","url","type","UserMode","beforeSend","setModuleHeaders","success","error","xhr","responseError"],"mappings":"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","file":"prompt-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/scripts/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 52c21e4644d80d2e8c60","exports.commands = function() {\r\n  return [\r\n    {name: 'cls', flags: []},\r\n    {name: 'console', flags: []},\r\n    {name: 'reload', flags: []},\r\n    {name: 'get-module', flags: ['id']},\r\n    {name: 'list-modules', flags: ['name', 'title', 'all']},\r\n    {name: 'get-page', flags: ['id', 'name', 'parentid']},\r\n    {name: 'list-pages', flags: ['parentid']},\r\n    {name: 'set-page', flags: ['description', 'id', 'keywords', 'name', 'title', 'visible']},\r\n    {name: 'get-portal', flags: ['id']},\r\n    {name: 'list-roles', flags: []},\r\n    {name: 'new-role', flags: ['autoassign', 'description', 'name', 'public']},\r\n    {name: 'set-role', flags: ['description', 'id', 'name', 'public']},\r\n    {name: 'get-task', flags: ['id']},\r\n    {name: 'list-tasks', flags: ['enabled', 'name']},\r\n    {name: 'set-task', flags: ['enabled', 'id']},\r\n    {name: 'add-roles', flags: ['end', 'id', 'roles', 'start']},\r\n    {name: 'delete-user', flags: ['id', 'notify']},\r\n    {name: 'get-user', flags: ['email', 'id', 'username']},\r\n    {name: 'list-users', flags: ['email', 'role', 'email']},\r\n    {\r\n      name: 'new-user',\r\n      flags: ['approved', 'displayname', 'email', 'firstname', 'lastname', 'notify', 'password', 'username']\r\n    },\r\n    {name: 'purge-user', flags: ['id']},\r\n    {name: 'reset-password', flags: ['id', 'notify']},\r\n    {name: 'restore-user', flags: ['id']}\r\n  ];\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/commands.js","/*!\r\n * JavaScript Cookie v2.1.3\r\n * https://github.com/js-cookie/js-cookie\r\n *\r\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\r\n * Released under the MIT license\r\n */\r\n;(function (factory) {\r\n\tvar registeredInModuleLoader = false;\r\n\tif (typeof define === 'function' && define.amd) {\r\n\t\tdefine(factory);\r\n\t\tregisteredInModuleLoader = true;\r\n\t}\r\n\tif (typeof exports === 'object') {\r\n\t\tmodule.exports = factory();\r\n\t\tregisteredInModuleLoader = true;\r\n\t}\r\n\tif (!registeredInModuleLoader) {\r\n\t\tvar OldCookies = window.Cookies;\r\n\t\tvar api = window.Cookies = factory();\r\n\t\tapi.noConflict = function () {\r\n\t\t\twindow.Cookies = OldCookies;\r\n\t\t\treturn api;\r\n\t\t};\r\n\t}\r\n}(function () {\r\n\tfunction extend () {\r\n\t\tvar i = 0;\r\n\t\tvar result = {};\r\n\t\tfor (; i < arguments.length; i++) {\r\n\t\t\tvar attributes = arguments[ i ];\r\n\t\t\tfor (var key in attributes) {\r\n\t\t\t\tresult[key] = attributes[key];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tfunction init (converter) {\r\n\t\tfunction api (key, value, attributes) {\r\n\t\t\tvar result;\r\n\t\t\tif (typeof document === 'undefined') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Write\r\n\r\n\t\t\tif (arguments.length > 1) {\r\n\t\t\t\tattributes = extend({\r\n\t\t\t\t\tpath: '/'\r\n\t\t\t\t}, api.defaults, attributes);\r\n\r\n\t\t\t\tif (typeof attributes.expires === 'number') {\r\n\t\t\t\t\tvar expires = new Date();\r\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\r\n\t\t\t\t\tattributes.expires = expires;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\r\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tresult = JSON.stringify(value);\r\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\r\n\t\t\t\t\t\tvalue = result;\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {}\r\n\r\n\t\t\t\tif (!converter.write) {\r\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\r\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalue = converter.write(value, key);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tkey = encodeURIComponent(String(key));\r\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\r\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\r\n\r\n\t\t\t\tvar stringifiedAttributes = '';\r\n\r\n\t\t\t\tfor (var attributeName in attributes) {\r\n\t\t\t\t\tif (!attributes[attributeName]) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\r\n\t\t\t\t\tif (attributes[attributeName] === true) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\r\n\t\t\t\t}\r\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\r\n\t\t\t}\r\n\r\n\t\t\t// Read\r\n\r\n\t\t\tif (!key) {\r\n\t\t\t\tresult = {};\r\n\t\t\t}\r\n\r\n\t\t\t// To prevent the for loop in the first place assign an empty array\r\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\r\n\t\t\t// calling \"get()\"\r\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\r\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\r\n\t\t\tvar i = 0;\r\n\r\n\t\t\tfor (; i < cookies.length; i++) {\r\n\t\t\t\tvar parts = cookies[i].split('=');\r\n\t\t\t\tvar cookie = parts.slice(1).join('=');\r\n\r\n\t\t\t\tif (cookie.charAt(0) === '\"') {\r\n\t\t\t\t\tcookie = cookie.slice(1, -1);\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\r\n\t\t\t\t\tcookie = converter.read ?\r\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\r\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\r\n\r\n\t\t\t\t\tif (this.json) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\r\n\t\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (key === name) {\r\n\t\t\t\t\t\tresult = cookie;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!key) {\r\n\t\t\t\t\t\tresult[name] = cookie;\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tapi.set = api;\r\n\t\tapi.get = function (key) {\r\n\t\t\treturn api.call(api, key);\r\n\t\t};\r\n\t\tapi.getJSON = function () {\r\n\t\t\treturn api.apply({\r\n\t\t\t\tjson: true\r\n\t\t\t}, [].slice.call(arguments));\r\n\t\t};\r\n\t\tapi.defaults = {};\r\n\r\n\t\tapi.remove = function (key, attributes) {\r\n\t\t\tapi(key, '', extend(attributes, {\r\n\t\t\t\texpires: -1\r\n\t\t\t}));\r\n\t\t};\r\n\r\n\t\tapi.withConverter = init;\r\n\r\n\t\treturn api;\r\n\t}\r\n\r\n\treturn init(function () {});\r\n}));\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js-cookie.js","module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 2\n// module chunks = 0","const Cookies = require('./js-cookie');\r\nconst Commands = require('./commands');\r\n\r\nclass DnnPrompt {\r\n  constructor(vsn, wrapper, util, params) {\r\n    const self = this;\r\n\r\n    self.version = vsn;\r\n    self.util = util;\r\n    self.wrapper = wrapper;\r\n    console.log(self.util);\r\n    self.params = params;\r\n    self.tabId = null;\r\n    self.history = []; // Command history\r\n    // restore history if it exists\r\n    if (sessionStorage) {\r\n      if (sessionStorage.getItem('kb-prompt-console-history')) {\r\n        self.history = JSON.parse(sessionStorage.getItem('kb-prompt-console-history'));\r\n      }\r\n    }\r\n    self.cmdOffset = 0; // reverse offset into history\r\n    self.commands = Commands;\r\n    self.commandNames = null;\r\n    self.initCommands();\r\n\r\n    self.createElements();\r\n    self.wireEvents();\r\n    self.showGreeting();\r\n    self.busy(false);\r\n    self.focus();\r\n  }\r\n\r\n  wireEvents() {\r\n    const self = this;\r\n\r\n    // intermediary functions so that 'this' points to class and not event source\r\n    self.keyDownHandler = function (e) {\r\n      self.onKeyDown(e);\r\n    };\r\n    self.clickHandler = function (e) {\r\n      self.onClickHandler(e);\r\n    };\r\n\r\n    // register on parent doc so panel can be loaded with keypress combo\r\n    window.parent.document.addEventListener('keydown', self.keyDownHandler);\r\n    document.addEventListener('keydown', self.keyDownHandler);\r\n    self.ctrlEl.addEventListener('click', self.clickHandler);\r\n  }\r\n\r\n  onClickHandler(e) {\r\n    if (e.target.classList.contains(\"kb-prompt-cmd-insert\")) {\r\n      // insert command and set focus\r\n      this.inputEl.value = e.target.dataset.cmd.replace(/'/g, '\"');\r\n      this.inputEl.focus();\r\n    } else {\r\n      this.focus();\r\n    }\r\n  }\r\n\r\n  onKeyDown(e) {\r\n    const self = this;\r\n    // CTRL + `\r\n    if (e.ctrlKey && e.keyCode === 192) {\r\n      if (self.wrapper[0].offsetLeft <= 0) {\r\n        self.util.loadPanel(\"Dnn.Prompt\", {\r\n          moduleName: \"Dnn.Prompt\",\r\n          folderName: \"\",\r\n          identifier: \"Dnn.Prompt\",\r\n          path: \"Prompt\"\r\n        });\r\n      } else {\r\n        self.util.closePersonaBar();\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (self.isBusy) return;\r\n\r\n    // All other keys, only trap if focus is in console.\r\n    if (self.inputEl === document.activeElement) {\r\n      switch (e.keyCode) {\r\n        case 13: // enter key\r\n          return self.runCmd();\r\n        case 38: // Up arrow\r\n          if ((self.history.length + self.cmdOffset > 0)) {\r\n            self.cmdOffset--;\r\n            self.inputEl.value = self.history[self.history.length + self.cmdOffset];\r\n            e.preventDefault();\r\n          }\r\n          break;\r\n        case 40: // Down arrow\r\n          if ((self.cmdOffset < -1)) {\r\n            self.cmdOffset++;\r\n            self.inputEl.value = self.history[self.history.length + self.cmdOffset];\r\n            e.preventDefault();\r\n          }\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  runCmd() {\r\n    const self = this;\r\n    const txt = self.inputEl.value.trim();\r\n\r\n    if (!self.tabId) {\r\n      self.tabId = dnn.getVar(\"sf_tabId\");\r\n    }\r\n\r\n    self.cmdOffset = 0; // reset history index\r\n    self.inputEl.value = \"\"; // clearn input for future commands.\r\n    self.writeLine(txt, \"cmd\"); // Write cmd to output\r\n    if (txt === \"\") {\r\n      return;\r\n    } // don't process if cmd is emtpy\r\n    self.history.push(txt); // Add cmd to history\r\n    if (sessionStorage) {\r\n      sessionStorage.setItem('kb-prompt-console-history', JSON.stringify(self.history));\r\n    }\r\n\r\n    // Client Command\r\n    const tokens = txt.split(\" \"),\r\n        cmd = tokens[0].toUpperCase();\r\n\r\n    if (cmd === \"CLS\" || cmd === \"CLEAR-SCREEN\") {\r\n      self.outputEl.innerHTML = \"\";\r\n      return;\r\n    }\r\n    if (cmd === \"EXIT\") {\r\n      this.util.closePersonaBar();\r\n      return;\r\n    }\r\n    if (cmd === \"HELP\") {\r\n      self.renderHelp(tokens);\r\n      return;\r\n    }\r\n    if (cmd === \"CONFIG\") {\r\n      self.configConsole(tokens);\r\n      return;\r\n    }\r\n    if (cmd === \"CLH\" || cmd === \"CLEAR-HISTORY\") {\r\n      self.history = [];\r\n      sessionStorage.removeItem('kb-prompt-console-history');\r\n      self.writeLine(\"Session command history cleared\");\r\n      return;\r\n    }\r\n    if (cmd === \"SET-MODE\") {\r\n      self.changeUserMode(tokens);\r\n      return;\r\n    }\r\n    // using if/else to allow reload if hash in URL and also prevent 'syntax invalid' message;\r\n    if (cmd === \"RELOAD\") {\r\n      location.reload(true);\r\n    } else {\r\n      // Server Command\r\n      self.busy(true);\r\n      // special handling for 'goto' command\r\n      let bRedirect = false;\r\n      if (cmd === \"GOTO\") {\r\n        bRedirect = true;\r\n      }\r\n\r\n      const afVal = this.util.sf.antiForgeryToken;\r\n\r\n      let path = 'API/PersonaBar/Command/Cmd';\r\n      if (this.util.sf) {\r\n        path = this.util.sf.getSiteRoot() + path\r\n      } else {\r\n        path = '/' + path\r\n      }\r\n\r\n      fetch(path, {\r\n        method: 'post',\r\n        headers: new Headers({\r\n          'Content-Type': 'application/json',\r\n          'RequestVerificationToken': this.util.sf.antiForgeryToken\r\n        }),\r\n        credentials: 'include',\r\n        body: JSON.stringify({cmdLine: txt, currentPage: self.tabId})\r\n      })\r\n      .then(function (response) {\r\n        return response.json();\r\n      })\r\n      .then(function (result) {\r\n        if (result.Message) {\r\n          // dnn web api error\r\n          result.output = result.Message;\r\n          result.isError = true;\r\n        }\r\n        const output = result.output;\r\n        const style = result.isError ? \"error\" : \"ok\";\r\n        const data = result.data;\r\n\r\n        if (bRedirect) {\r\n          window.location.href = output;\r\n        } else {\r\n          if (data) {\r\n            const html = self.renderData(data);\r\n            self.writeHtml(html);\r\n            if (output) {\r\n              self.writeLine(output);\r\n            }\r\n          } else if (result.isHtml) {\r\n            self.writeHtml(output);\r\n          } else {\r\n            self.writeLine(output, style);\r\n          }\r\n        }\r\n\r\n        if (result.mustReload) {\r\n          self.writeHtml('<div class=\"kb-prompt-ok\"><strong>Reloading in 3 seconds</strong></div>');\r\n          setTimeout(() => location.reload(true), 3000);\r\n        }\r\n      })\r\n      .catch(function () {\r\n        self.writeLine(\"Error sending request to server\", \"error\")\r\n      })\r\n      .then(function () {\r\n        // finally\r\n        self.busy(false);\r\n        self.focus();\r\n      });\r\n\r\n      self.inputEl.blur(); // remove focus from input elment\r\n    }\r\n\r\n  }\r\n\r\n  focus() {\r\n    this.inputEl.focus();\r\n  }\r\n\r\n  scrollToBottom() {\r\n    this.ctrlEl.scrollTop = this.ctrlEl.scrollHeight;\r\n  }\r\n\r\n  newLine() {\r\n    this.outputEl.appendChild(document.createElement('br'));\r\n    this.scrollToBottom();\r\n  }\r\n\r\n  writeLine(txt, cssSuffix) {\r\n    let span = document.createElement('span');\r\n    cssSuffix = cssSuffix || 'ok';\r\n    span.className = 'kb-prompt-' + cssSuffix;\r\n    span.innerText = txt;\r\n    this.outputEl.appendChild(span);\r\n    this.newLine();\r\n  }\r\n\r\n  writeHtml(markup) {\r\n    let div = document.createElement('div');\r\n    div.innerHTML = markup;\r\n    this.outputEl.appendChild(div);\r\n    this.newLine();\r\n  }\r\n\r\n  renderData(data) {\r\n    if (data.length > 1) {\r\n      return this.renderTable(data);\r\n    } else if (data.length == 1) {\r\n      return this.renderObject(data[0]);\r\n    }\r\n    return \"\";\r\n  }\r\n\r\n  renderTable(rows) {\r\n    let out = '<table class=\"kb-prompt-tbl\"><thead><tr>';\r\n    let linkFields = [];\r\n    // find any command link fields\r\n    for (let fld in rows[0]) {\r\n      if (fld.startsWith(\"__\")) {\r\n        linkFields.push(fld.slice(2));\r\n      }\r\n    }\r\n\r\n    for (let i = 0; i < rows.length; i++) {\r\n      let row = rows[i];\r\n      if (i == 0) {\r\n        for (let key in row) {\r\n          if (key.startsWith(\"__\")) {\r\n            out += `<th>${key.slice(2)}</th>`;\r\n          } else {\r\n            if (linkFields.indexOf(key) === -1) {\r\n              out += `<th>${key}</th>`;\r\n            }\r\n          }\r\n        }\r\n        out += '</tr></thead><tbody>';\r\n      }\r\n      out += '<tr>';\r\n      for (let key in row) {\r\n        if (key.startsWith(\"__\")) {\r\n          out += `<td><a href=\"#\" class=\"kb-prompt-cmd-insert\" data-cmd=\"${row[key]}\" title=\"${row[key].replace(/'/g, '&quot;')}\">${row[key.slice(2)]}</a></td>`;\r\n        } else if (linkFields.indexOf(key) === -1) {\r\n          out += `<td>${row[key]}</td>`;\r\n        }\r\n      }\r\n      out += '</tr>'\r\n\r\n    }\r\n    out += '</tbody></table>'\r\n    return out;\r\n  }\r\n\r\n  renderObject(data) {\r\n    let linkFields = [];\r\n    // find any link fields\r\n    for (let fld in data) {\r\n      if (fld.startsWith(\"__\")) {\r\n        linkFields.push(fld.slice(2));\r\n      }\r\n    }\r\n    let out = '<table class=\"kb-prompt-tbl\">'\r\n    for (let key in data) {\r\n      if (key.startsWith(\"__\")) {\r\n        out += `<tr><td class=\"kb-prompt-lbl\">${key.slice(2)}</td><td>:</td><td><a href=\"#\" class=\"kb-prompt-cmd-insert\" data-cmd=\"${data[key]}\" title=\"${data[key].replace(/'/g, '&quot;')}\">${data[key.slice(2)]}</a></td></tr>`;\r\n      } else {\r\n        if (linkFields.indexOf(key) === -1) {\r\n          out += `<tr><td class=\"kb-prompt-lbl\">${key}</td><td>:</td><td>${data[key]}</td></tr>`;\r\n        }\r\n      }\r\n\r\n    }\r\n    out += '</table>';\r\n    return out;\r\n  }\r\n\r\n  renderHelp(tokens) {\r\n    const self = this;\r\n    let path = 'DesktopModules/Admin/Dnn.PersonaBar/Modules/Dnn.Prompt/help/'\r\n    if (!tokens || tokens.length == 1) {\r\n      // render list of help commands\r\n      path += 'index.html';\r\n    } else {\r\n      path += tokens[1] + '.html';\r\n    }\r\n\r\n    if (this.util.sf) {\r\n      path = this.util.sf.getSiteRoot() + path\r\n    } else {\r\n      path = '/' + path\r\n    }\r\n    self.busy(true);\r\n    fetch(path, {\r\n      method: 'get',\r\n      headers: new Headers({\r\n        'Content-Type': 'text/html',\r\n      }),\r\n      credentials: 'include',\r\n    })\r\n    .then(function(response) {\r\n      if (response.status == 200) { return response.text(); }\r\n      return '<div class=\"kb-prompt-error\">Unable to find help for that command</div>';\r\n    })\r\n    .then(function (html) {\r\n      self.writeHtml(html);\r\n    })\r\n    .catch(function () {\r\n      self.writeLine(\"Error sending request to server\", \"error\")\r\n    })\r\n    .then(function () {\r\n      // finally\r\n      self.busy(false);\r\n      self.focus();\r\n    });\r\n\r\n  }\r\n\r\n  showGreeting() {\r\n    this.writeLine('Prompt [' + this.version + '] Type \\'help\\' to get a list of commands', 'cmd');\r\n    this.newLine();\r\n  }\r\n\r\n  createElements() {\r\n    const self = this;\r\n    const doc = document;\r\n\r\n    // Create and store CLI elements\r\n    //self.ctrlEl = doc.createElement(\"div\"); //CLI control outer frame\r\n    self.ctrlEl = doc.getElementById(\"prompt\"); //CLI control outer frame\r\n    self.outputEl = doc.createElement(\"div\"); //div holding cosole output\r\n    self.inputEl = doc.createElement(\"input\"); //Input control\r\n    self.busyEl = doc.createElement(\"div\"); // Indicate busy/loading\r\n\r\n\r\n    // Add CSS\r\n    self.ctrlEl.className = \"kb-prompt\";\r\n    self.outputEl.className = \"kb-prompt-output\";\r\n    self.inputEl.className = \"kb-prompt-input\";\r\n    self.busyEl.className = \"kb-prompt-busy\"\r\n\r\n    self.inputEl.setAttribute(\"spellcheck\", \"false\");\r\n\r\n    // Assemble HTML\r\n    self.ctrlEl.appendChild(self.outputEl);\r\n    self.ctrlEl.appendChild(self.inputEl);\r\n    self.ctrlEl.appendChild(self.busyEl);\r\n\r\n    // Hide control and add to DOM\r\n    // var isVisible = Cookies.get(\"kb-prompt-console-visible\") === \"true\";\r\n    // if (isVisible) {\r\n    self.ctrlEl.style.display = \"block\";\r\n    // } else {\r\n    //     self.ctrlEl.style.display = \"none\";\r\n    // }\r\n    //doc.body.appendChild(self.ctrlEl);\r\n    const consoleHeight = Cookies.get(\"kb-prompt-console-height\");\r\n    if (consoleHeight) {\r\n      self.configConsole(['config', consoleHeight]);\r\n    }\r\n    // if (isVisible) { self.inputEl.focus(); }\r\n  }\r\n\r\n  initCommands() {\r\n    // eventually get this from the server\r\n    this.commands = [\r\n      {name: 'cls', flags: []},\r\n      {name: 'console', flags: []},\r\n      {name: 'reload', flags: []},\r\n      {name: 'get-module', flags: ['id']},\r\n      {name: 'list-modules', flags: ['name', 'title', 'all']},\r\n      {name: 'get-page', flags: ['id', 'name', 'parentid']},\r\n      {name: 'list-pages', flags: ['parentid']},\r\n      {name: 'set-page', flags: ['description', 'id', 'keywords', 'name', 'title', 'visible']},\r\n      {name: 'get-portal', flags: ['id']},\r\n      {name: 'list-roles', flags: []},\r\n      {name: 'new-role', flags: ['autoassign', 'description', 'name', 'public']},\r\n      {name: 'set-role', flags: ['description', 'id', 'name', 'public']},\r\n      {name: 'get-task', flags: ['id']},\r\n      {name: 'list-tasks', flags: ['enabled', 'name']},\r\n      {name: 'set-task', flags: ['enabled', 'id']},\r\n      {name: 'add-roles', flags: ['end', 'id', 'roles', 'start']},\r\n      {name: 'delete-user', flags: ['id', 'notify']},\r\n      {name: 'get-user', flags: ['email', 'id', 'username']},\r\n      {name: 'list-users', flags: ['email', 'role', 'email']},\r\n      {\r\n        name: 'new-user',\r\n        flags: ['approved', 'displayname', 'email', 'firstname', 'lastname', 'notify', 'password', 'username']\r\n      },\r\n      {name: 'purge-user', flags: ['id']},\r\n      {name: 'reset-password', flags: ['id', 'notify']},\r\n      {name: 'restore-user', flags: ['id']}\r\n    ];\r\n    let out = [];\r\n    for (let i = 0; i < this.commands.length; i++) {\r\n      out.push(this.commands[i].name);\r\n    }\r\n    this.commandNames = out;\r\n\r\n  }\r\n\r\n  busy(b) {\r\n    this.isBusy = b;\r\n    this.busyEl.style.display = b ? \"block\" : \"none\";\r\n    this.inputEl.style.display = b ? \"none\" : \"block\";\r\n  }\r\n\r\n  isFlag(token) {\r\n    return (token && token.startsWith('--'));\r\n  }\r\n\r\n  getFlag(flag, tokens) {\r\n    let token = null;\r\n    if (!tokens || tokens.length) {\r\n      return null;\r\n    }\r\n    for (let i = 1; i < tokens.length; i++) {\r\n      token = tokens[i];\r\n      // did we find the flag name?\r\n      if (this.isFlag(token) && (token.toUpperCase() === flag.toUpperCase())) {\r\n        // is there a value to be had?\r\n        if ((i + 1) < tokens.length) {\r\n          if (!this.isFlag(tokens[i + 1])) {\r\n            return tokens[i + 1];\r\n          } else {\r\n            // next token is a flag and not a value. return nothing.\r\n            return null;\r\n          }\r\n        } else {\r\n          // found but no value\r\n          return null;\r\n        }\r\n      }\r\n    }\r\n    // not found\r\n    return null;\r\n  }\r\n\r\n  hasFlag(flag, tokens) {\r\n    if (!tokens || tokens.length) return false;\r\n    for (let i = 0; i < tokens.length; i++) {\r\n      if (tokens[i].toUpperCase === flag.toUpperCase()) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  // client commands\r\n  configConsole(tokens) {\r\n    let height = null;\r\n    if (this.hasFlag(\"--height\")) {\r\n      height = this.getFlag(\"--height\", tokens);\r\n    } else if (!this.isFlag(tokens[1])) {\r\n      height = tokens[1];\r\n    }\r\n\r\n    if (height) {\r\n      this.ctrlEl.style.height = height;\r\n      Cookies.set(\"kb-prompt-console-height\", height)\r\n    }\r\n  }\r\n\r\n  changeUserMode(tokens) {\r\n    if (!tokens && tokens.length >= 2) {\r\n      return;\r\n    }\r\n    let mode = null;\r\n    if (this.hasFlag(\"--mode\")) {\r\n      mode = this.getFlag(\"--mode\", tokens);\r\n    } else if (!this.isFlag(tokens[1])) {\r\n      mode = tokens[1];\r\n    }\r\n    if (mode) {\r\n      const service = dnn.controlBar.getService();\r\n      const serviceUrl = dnn.controlBar.getServiceUrl(service);\r\n      $.ajax({\r\n        url: serviceUrl + 'ToggleUserMode',\r\n        type: 'POST',\r\n        data: {UserMode: mode},\r\n        beforeSend: service.setModuleHeaders,\r\n        success: function () {\r\n          window.location.href = window.location.href;\r\n        },\r\n        error: function (xhr) {\r\n          dnn.controlBar.responseError(xhr);\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nwindow.DnnPrompt = DnnPrompt;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js"],"sourceRoot":""}